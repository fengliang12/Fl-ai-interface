# Utils 测试文档

本目录包含所有工具函数的单元测试。

## 测试文件说明

### getName.test.js
- **测试函数**: `src/utils/getName.ts`
- **测试内容**: 钱包连接器名称获取函数测试
- **主要测试点**:
  - MetaMask 连接器识别
  - WalletConnect V2 连接器识别
  - 未知连接器处理
  - null/undefined 输入处理
  - 部分接口连接器处理

### index.test.js
- **测试函数**: `src/utils/index.ts` 中的 `addressFormat`
- **测试内容**: 地址格式化函数测试
- **主要测试点**:
  - 有效以太坊地址格式化
  - 短地址处理
  - 非0x开头地址处理
  - 空字符串和null/undefined处理
  - 最小有效地址长度验证
  - 极长地址处理
  - 混合大小写地址处理

### sum.test.js
- **测试函数**: `src/utils/sum.ts`
- **测试内容**: 数学计算函数测试
- **主要测试点**:
  - 基本加法运算
  - 边界值处理
  - 类型验证
  - 错误输入处理

## 运行测试

```bash
# 运行所有工具函数测试
npm run test:unit -- tests/unit/utils

# 运行特定工具函数测试
npm run test:unit -- tests/unit/utils/getName.test.js
```

## 测试覆盖率

工具函数测试应该覆盖：
- 正常输入情况
- 边界值测试
- 异常输入处理
- 类型验证
- 返回值格式验证

## 测试最佳实践

1. **纯函数测试**: 工具函数通常是纯函数，测试应该简单直接
2. **边界值测试**: 重点测试边界条件和异常情况
3. **类型安全**: 验证函数对不同类型输入的处理
4. **性能考虑**: 对于复杂工具函数，考虑性能测试